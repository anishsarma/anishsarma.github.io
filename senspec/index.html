<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sensitivity and Specificity: A Visual Approach</title>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjs/11.8.0/math.min.js"></script>
            <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-X0R6WGHXD1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-X0R6WGHXD1');
</script>
        <meta charset="utf-8">
<!--    <link rel="stylesheet" href="https://anishsarma.github.io/main.css"> -->
    <style>
        .plot-container {
            display: flex;
            justify-content: space-around;
        }
/*         .controls { */
/*             display: flex; */
/*             justify-content: space-around; */
/*         } */
        .plot {
            width: 400px;
            height: 400px;
        }
    </style>
</head>
<body style="font-family:arial">
    <h1>Sensitivity and Specificity: A Visual Approach</h1>
    Sensitivity and specificity are essential concepts in understanding diagnostic testing, yet they can be challenging for medical students to master.
    The way I learned this material as an engineer was more visual and interactive, so I made a little demo to capture some of that intuition.
    <br><br>Let's say we have a test that detects some biomarker in two groups, red (has phenotype, test should be positive) and gray (does not have phenotype, test should be negative). 
    In the plot showing two normal distributions below, everything to the right of the line is detected. The amount of red we can get (increasing true positives or increasing sensitivity) without getting gray (increasing false positives or decreasing specificity) is determined by how wide the distributions are and how far apart they are.
    <br><br>In medicine, we often contrast tests that are high in sensitivity (and low in specificity) with tests that are high in specificity (and low in sensitivity). This is a fair contrast insofar as, for a given pair of distributions, moving the detection line around will trade sensitivity for specicifity. However, a new test might improve on the old test by changing the distributions of measurements, so a new test can be both more sensitive and more specific than an old test. 
    <br><br>Try it yourself! Move the detection line around below, or change the means and standard deviations to make the problem easier or harder. (I'm working on making the buttons and plots look nicer.)
    <br><br>
    <div class="controls">
        <label><input type="number" id="mean2" value="0" step="0.1" style='display:none' > Noisiness <input type="number" id="sd2" value="1.0" step="0.1"></label>
<!-- </div> -->
<!--     <div class="controls"> -->
        <label><input type="number" id="mean1" value="1" step="0.1" style='display:none' > <input type="number" id="sd1" value="1.5" step="0.1" style='display:none' ></label>
            </div>

    <div class="controls">
        <label><input style='display:none' type="range" id="threshold" min="-50" max="50" step="0.1" value="1"></label>
<!--         <button id="toggleAxis">Toggle FPR/Specificity</button> -->
    </div>
  <div class="plot-container">
        <div id="distributionPlot" class="plot"></div>
<!--     </div>
    <div class="plot-container"> -->
        <div id="rocPlot" class="plot"></div>
    </div>
    <script src="script.js"></script>

Made with help from Claude.ai
</body>
</html>
